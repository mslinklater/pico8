pico-8 cartridge // http://www.pico-8.com
version 15
__lua__
// picodroid

// --------------- sprite flags
flg_collidable=1
flg_floor=2

// ------------- sprite numbers
spr_floor=17
spr_player=21

// ---------------------- input
btn_left=0
btn_right=1
btn_up=2
btn_down=3
btn_o=4
btn_x=5

camera_x=0
camera_y=0
camera_target_x=64
camera_target_y=64
camera_damp=0.2

player_x=0
player_y=0
player_vx=0
player_vy=0
player_max_speed=2
player_damp=0.75

function build_map()
end

function _init()
	cls()
	build_map()
end

function update_input()
	-- player input
	if btn(btn_left) then
	 player_vx-=1
	end
	if btn(btn_right) then
		player_vx+=1
	end
	if btn(btn_up) then
	 player_vy-=1
	end
	if btn(btn_down) then
		player_vy+=1
	end
	-- clamp vel
	if player_vx>player_max_speed then
		player_vx=player_max_speed
	end	
	if player_vx<-player_max_speed then
		player_vx=-player_max_speed
	end	
	if player_vy>player_max_speed then
		player_vy=player_max_speed
	end	
	if player_vy<-player_max_speed then
		player_vy=-player_max_speed
	end	
	player_x+=player_vx
	player_y+=player_vy
	player_vx=player_vx*player_damp
	player_vy=player_vy*player_damp
end

function update_camera()
	target_x=player_x-camera_target_x
	target_y=player_y-camera_target_y
	camera_x=camera_x+((target_x-camera_x)*camera_damp)
	camera_y=camera_y+((target_y-camera_y)*camera_damp)
	camera(camera_x,camera_y)
end

function _update()
	update_input()
	update_camera()	
end

function draw_debug()
	print("picodroid",camera_x,camera_y,7)
end

function _draw()
	cls()
	-- draw map
	map(0,0,0,0,128,64)
	-- draw plyer
	spr(spr_player,player_x,player_y)
	draw_debug()
end
__gfx__
00000000000000000066660000000000000000000000000000666600006666000000000000000000006666000000000000666600006666000066660000000000
00000000000000000066660000000000006666000000000000666600006666000000000000000000006666000000000000666600006666000066660000000000
00000000666666600066660006666666006666006666666600666600006666660066666666666600666666006666666666666600666666660066666600000000
00000000666666600066660006666666006666006666666600666600006666660066666666666600666666006666666666666600666666660066666666666666
00000000666666600066660006666666006666006666666600666600006666660066666666666600666666006666666666666600666666660066666666666666
00000000666666600066660006666666006666006666666600666600006666660066666666666600666666006666666666666600666666660066666600000000
00000000000000000066660000000000006666000000000000666600000000000066660000666600000000000066660000666600000000000066660000000000
00000000000000000000000000000000006666000000000000666600000000000066660000666600000000000066660000666600000000000066660000000000
00066000000000000066660005555550000000000077770000000000000000000000000000000000000000000000000000000000000000000000000000000000
00066000055555500066660050000005055666500770077000000000000000000000000000000000000000000000000000000000000000000000000000000000
00066000055555506666666650555505055566607707707700000000000000000000000000000000000000000000000000000000000000000000000000000000
00066000055555506666666650500505055566607000700700000000000000000000000000000000000000000000000000000000000000000000000000000000
00066000055555506666666650500505055566607000700700000000000000000000000000000000000000000000000000000000000000000000000000000000
00066000055555506666666650555505055566607700707700000000000000000000000000000000000000000000000000000000000000000000000000000000
00066000055555500066660050000005055666500770077000000000000000000000000000000000000000000000000000000000000000000000000000000000
00066000000000000066660005555550000000000077770000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
70000000000007707700777007707770770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000000000707070707070700700707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700000000000707070770070700700707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000000000707070707070700700707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000000007007770707077007770777000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000006666666666666666666666666666666666666666666666666666666
00000000000000000000000000000000000000000000000000000000000000000000000006666666666666666666666666666666666666666666666666666666
00000000000000000000000000000000000000000000000000000000000000000000000006666666666666666666666666666666666666666666666666666666
00000000000000000000000000000000000000000000000000000000000000000000000006666666666666666666666666666666666666666666666666666666
00000000000000000000000000000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000006666000
00000000000000000000000000000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000006666000
00000000000000000000000000000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000006666000
00000000000000000000000000000000000000000000000000000000000000000000000006666000555555005555550055555500555555005566650006666000
00000000000000000000000000000000000000000000000000000000000000000000000006666000555555005555550055555500555555005556660006666000
00000000000000000000000000000000000000000000000000000000000000000000000006666000555555005555550055555500555555005556660006666000
00000000000000000000000000000000000000000000000000000000000000000000000006666000555555005555550055555500555555005556660006666000
00000000000000000000000000000000000000000000000000000000000000000000000006666000555555005555550055555500555555005556660006666000
00000000000000000000000000000000000000000000000000000000000000000000000006666000555555005555550055555500555555005566650006666000
00000000000000000000000000000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000006666000
00000000000000000000000000000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000006666000
00000000000000000000000000000000000000000000000000000000000000000000000006666000555555005555550055555500000000000000000006666000
00000000000000000000000000000000066666666666666666666666666666666666666666666000555555005555550055555500066666666666666666666000
00000000000000000000000000000000066666666666666666666666666666666666666666666000555555005555550055555500066666666666666666666000
00000000000000000000000000000000066666666666666666666666666666666666666666666000555555005555550055555500066666666666666666666000
00000000000000000000000000000000066666666666666666666666666666666666666666666000555555005555550055555500066666666666666666666000
00000000000000000000000000000000066660000000000000000000000000000000000006666000555555005555550055555500066660000000000000000000
00000000000000000000000000000000066660000000000000000000000000000000000006666000000000000000000000000000066660000000000000000000
00000000000000000000000000000000066660000000000000000000000000000000000006666000000000000000000000000000006600000000000000000000
00000000000000000000000000000000066660005555550055555500555555005555550006666000555555005555550055555500006600005555550055555500
00000000000000000000000000000000066660005555550055555500555555005555550006666000555555005555550055555500006600005555550055555500
00000000000000000000000000000000066660005555550055555500555555005555550006666000555555005555550055555500006600005555550055555500
00000000000000000000000000000000066660005555550055555500555555005555550006666000555555005555550055555500006600005555550055555500
00000000000000000000000000000000066660005555550055555500555555005555550006666000555555005555550055555500006600005555550055555500
00000000000000000000000000000000066660005555550055555500555555005577770006666000555555005555550055555500006600005555550055555500
00000000000000000000000000000000066660000000000000000000000000000770077006666000000000000000000000000000006600000000000000000000
00000000000000000000000000000000066660000000000055555500000000007707707700660000000000000000000000000000066660000000000000000000
00000000000000000000000000000000066660005555550500000050555555007555750700660000555555005555550055555500066660005555550055555500
00000000000000000000000000000000066660005555550505555050555555007555750700660000555555005555550055555500066660005555550055555500
00000000000000000000000000000000066660005555550505005050555555007755757700660000555555005555550055555500066660005555550055555500
00000000000000000000000000000000066660005555550505005050555555005775577000660000555555005555550055555500066660005555550055555500
00000000000000000000000000000000066660005555550505555050555555005577770000660000555555005555550055555500066660005555550055555500
00000000000000000000000000000000066660005555550500000050555555005555550000660000555555005555550055555500066660005555550055555500
00000000000000000000000000000000066660000000000055555500000000000000000000660000000000000000000000000000066660000000000000000000
00000000000000000000000000000000066660000000000000000000000000000000000006666000000000000000000000000000066660000000000000000000
00000000000000000000000000000000066660005555550055555500555555005555550006666000000000000000000000000000066660005555550055555500
00000000000000000000000000000000066660005555550055555500555555005555550006666666666666600000000666666666666660005555550055555500
00000000000000000000000000000000066660005555550055555500555555005555550006666666666666666666666666666666666660005555550055555500
00000000000000000000000000000000066660005555550055555500555555005555550006666666666666666666666666666666666660005555550055555500
00000000000000000000000000000000066660005555550055555500555555005555550006666666666666600000000666666666666660005555550055555500
00000000000000000000000000000000066660005555550055555500555555005555550006666000000000000000000000000000066660005555550055555500
00000000000000000000000000000000066660000000000000000000000000000000000006666000000000000000000000000000066660000000000000000000
00000000000000000000000000000000066660000000000000000000000000000000000006666000000000000000000000000000066660000000000000000000
00000000000000000000000000000000066660000000000000000000000000000000000006666000555555005555550055555500066660005555550055555500
00000000000000000000000000000000066666666666666666666660000000066666666666666000555555005555550055555500066660005555550055555500
00000000000000000000000000000000066666666666666666666666666666666666666666666000555555005555550055555500066660005555550055555500
00000000000000000000000000000000066666666666666666666666666666666666666666666000555555005555550055555500066660005555550055555500
00000000000000000000000000000000066666666666666666666660000000066666666666666000555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000000000000000000000000000555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000000000000066660000000000000000000
00000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000000000000066660000000000000000000
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000000000000066660000000000000000000
00000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000000000000006600000000000000000000
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500006600005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500006600005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500006600005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500006600005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500006600005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500006600005555550055555500
00000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000000000000006600000000000000000000
00000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000000000000066660000000000000000000
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000555555005555550055555500555555005555550055555500066660005555550055555500
00000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000000000000066660000000000000000000
00000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000000000000066660000000000000000000
00000000000000000000000000000000000000000000000006666000000000000000000000000000000000000000000000000000066660000000000000000000
00000000000000000000000000000000000000000000000006666666666666666666666666666666666666666666666666666666666666666666666666666666
00000000000000000000000000000000000000000000000006666666666666666666666666666666666666666666666666666666666666666666666666666666
00000000000000000000000000000000000000000000000006666666666666666666666666666666666666666666666666666666666666666666666666666666
00000000000000000000000000000000000000000000000006666666666666666666666666666666666666666666666666666666666666666666666666666666
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

__gff__
0001010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000805050505050b05090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000611111111140611060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000008050505050c11111108050a11060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000006111111110611111110111111060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000006111311111011111106111111060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000006111111110e050f050c111111060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000007050b0f050a11111106111111060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000611111111111106111111060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000611111111111110111111060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000611111111111106111111060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000070505050505050d0505050a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
